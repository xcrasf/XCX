<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø´Ø®ØµØ§Øª IP Ø¨Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø²ÛŒØ¨Ø§</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #2c3e50, #3498db); /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ú¯Ø±Ø§Ø¯ÛŒÙ†ØªÛŒ */
      color: #fff;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.3s ease-in-out;
    }

    .container {
      background: rgba(0, 0, 0, 0.8); /* Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ */
      border-radius: 15px;
      padding: 40px;
      width: 80%;
      max-width: 800px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
    }

    h1 {
      margin-bottom: 20px;
      font-size: 2.5rem;
      font-weight: bold;
    }

    .info {
      font-size: 18px;
      margin: 10px 0;
    }

    .ip-details {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      padding: 15px;
      background: #34495e;
      border-radius: 10px;
    }

    .ip-details div {
      margin: 0 10px;
    }

    .btn {
      background-color: #3498db;
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 18px;
      margin-top: 30px;
      transition: background-color 0.3s ease;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
      }
    }

    .btn:hover {
      background-color: #2980b9;
    }

    #ip-input {
      padding: 12px;
      border-radius: 5px;
      margin: 15px 0;
      font-size: 18px;
      width: 60%;
      background-color: #34495e;
      color: #fff;
      border: 1px solid #7f8c8d;
    }

    .error {
      color: #e74c3c;
      font-size: 18px;
      margin-top: 20px;
    }

    .extra-info {
      font-size: 18px;
      background-color: #2c3e50;
      border-radius: 8px;
      padding: 15px;
      margin-top: 20px;
    }

    .emoji {
      font-size: 1.5rem;
      margin-right: 10px;
    }

    #country-flag {
      width: 50px; /* Ú©Ø§Ù‡Ø´ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù¾Ø±Ú†Ù… */
      height: auto;
      margin-top: 10px;
    }

  </style>
</head>
<body>

  <div class="container">
    <h1>Ù…Ø´Ø®ØµØ§Øª IP Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</h1>
    <input type="text" id="ip-input" placeholder="Ø¢Ø¯Ø±Ø³ IP Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" />
    <button class="btn" onclick="fetchIPInfo()">Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª</button>
    <p class="info" id="info-text">Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø¢Ø¯Ø±Ø³ IP ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ Ùˆ "Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯.</p>
    
    <div class="ip-details">
      <div><strong>Ø¢Ø¯Ø±Ø³ IP:</strong> <span id="ip-address">---</span></div>
      <div><strong>Ú©Ø´ÙˆØ±:</strong> <span id="country-name">---</span></div>
      <div><strong>Ø´Ù‡Ø±:</strong> <span id="city-name">---</span></div>
    </div>

    <div class="extra-info" id="extra-info">
      <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
    </div>

    <p class="info" id="current-time">---</p>
    <img id="country-flag" class="flag" src="" alt="Ù¾Ø±Ú†Ù… Ú©Ø´ÙˆØ±" />
    <p class="error" id="error-message"></p>
  </div>

  <script>
    async function fetchIPInfo() {
      const ipAddress = document.getElementById('ip-input').value;
      const errorMessage = document.getElementById('error-message');
      const infoText = document.getElementById('info-text');
      const extraInfo = document.getElementById('extra-info');

      // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
      errorMessage.textContent = '';
      infoText.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª...';
      extraInfo.innerHTML = '';

      if (!ipAddress) {
        errorMessage.textContent = 'Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø¢Ø¯Ø±Ø³ IP Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.';
        return;
      }

      const apiUrl = `http://ip-api.com/json/${ipAddress}`;

      try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        // Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø®
        if (data.status === 'fail') {
          errorMessage.textContent = `Ø®Ø·Ø§: ${data.message}`;
          return;
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±ÙˆÛŒ ØµÙØ­Ù‡
        document.getElementById('ip-address').textContent = data.query;
        document.getElementById('country-name').textContent = `${data.country} ${getCountryEmoji(data.countryCode)}`;
        document.getElementById('city-name').textContent = data.city;
        document.getElementById('country-flag').src = `https://flagcdn.com/w320/${data.countryCode.toLowerCase()}.png`; // ØªØºÛŒÛŒØ± URL
        document.getElementById('current-time').textContent = `Ø²Ù…Ø§Ù† Ú©Ù†ÙˆÙ†ÛŒ: ${new Date().toLocaleString()}`;

        // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ
        extraInfo.innerHTML = ` 
          <strong>Ù…Ù†Ø·Ù‚Ù‡:</strong> ${data.regionName} <br>
          <strong>Ú©Ø¯ Ù¾Ø³ØªÛŒ:</strong> ${data.zip} <br>
          <strong>Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ:</strong> ${data.lat} <br>
          <strong>Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ:</strong> ${data.lon} <br>
          <strong>ISP:</strong> ${data.isp} <br>
          <strong>Ø³Ø§Ø²Ù…Ø§Ù†:</strong> ${data.org} <br>
          <strong>AS:</strong> ${data.as}
        `;

        infoText.textContent = 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯!';
      } catch (error) {
        errorMessage.textContent = 'Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.';
      }
    }

    // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø§ÛŒÙ…ÙˆØ¬ÛŒ Ù¾Ø±Ú†Ù… Ú©Ø´ÙˆØ± Ø¨Ø±Ø§Ø³Ø§Ø³ Ú©Ø¯ Ú©Ø´ÙˆØ±
    function getCountryEmoji(countryCode) {
      const countryEmojis = {
        US: 'ğŸ‡ºğŸ‡¸',
        DE: 'ğŸ‡©ğŸ‡ª',
        GB: 'ğŸ‡¬ğŸ‡§',
        FR: 'ğŸ‡«ğŸ‡·',
        IN: 'ğŸ‡®ğŸ‡³',
        CA: 'ğŸ‡¨ğŸ‡¦',
        JP: 'ğŸ‡¯ğŸ‡µ',
        IT: 'ğŸ‡®ğŸ‡¹',
        RU: 'ğŸ‡·ğŸ‡º',
        CN: 'ğŸ‡¨ğŸ‡³',
        BR: 'ğŸ‡§ğŸ‡·'
      };
      return countryEmojis[countryCode] || 'ğŸŒ'; // Ù¾ÛŒØ´â€ŒÙØ±Ø¶: ğŸŒ
    }
  </script>

</body>
</html>
